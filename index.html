<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="The simple jQuery Plugin for customizable modal windows.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/syntax.css">
  <link rel="stylesheet" href="css/default.css">
  <link rel="stylesheet" href="css/sample.css">
  <!-- Libs for sample codes must be loaded in "head". -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="js/jquery.plainmodal.min.js"></script>

  <title>plainModal</title>
</head>
<body>
  <header>
    <h1><a href="./">plainModal</a></h1>
    <ul id="gh"><li><a href="https://github.com/anseki/jquery-plainmodal/tarball/master">Download TAR.GZ</a></li><li><a href="https://github.com/anseki/jquery-plainmodal/zipball/master">Download ZIP</a></li><li><a href="https://github.com/anseki/jquery-plainmodal">View on GitHub</a></li></ul>
  </header>
  <main>

<p>The simple jQuery Plugin for customizable modal windows. plainModal has basic functions only, and it does nothing for styles. It has no image files and no CSS files. Just one small file.</p>

<!-- include "sample_01.html" -->
<!-- ================ sample -->
<p><button id="sample-01-button">Open Sample</button></p>

<div id="sample-01">
  <div class="plainmodal-close"></div>
  <h2>jQuery.plainModal</h2>
  <h3>Not Gorgeous, but Free Customizing</h3>
  <p><img src="img/GitHub-Mark-120px-plus.png" width="120" height="120" alt="">This window is styled as a responsive web design. plainModal doesn't restrict any HTML structure and styles. It's not concerned about those.</p>
</div>

<script>
$(function() {

  $('#sample-01-button').click(function() {
    $('#sample-01').plainModal('open');
  });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_01.html" -->

<p>Many great plugins already exist.</p>

<ul>
<li>The gorgeous plugins which has many functions and rich styles.</li>
<li>The simple plugins which has small functions and customizable styles.</li>
</ul>

<p>The many web sites use same functions almost. And these have different styles.<br>plainModal has basic functions for showing the modal windows. That&#39;s all. The styling it is your job. You can free style it to perfect match for your web site. Of course it can be responsive web design.</p>

<!-- include "sample_02.html" -->
<!-- ================ sample -->
<div class="cols2">
  <div class="col">
    <button id="sample-02a-button">Open Sample (Non-Styles)</button>
    <p>plainModal doesn't style anything.</p>
  </div>
  <div class="col">
    <button id="sample-02b-button">Open Sample (SVG)</button>
    <p>The styling it is your job.</p>
  </div>
</div>

<div id="sample-02a">
  <p>This is non-styles except background-color.</p>
  <p>Click outside area of this window, or press Escape key to close this window.</p>
</div>

<script>
$(function() {

  $('#sample-02a-button').click(function() {
    $('#sample-02a').plainModal('open');
  });

});
</script>

<svg version="1.1" viewBox="0 0 400 300" id="sample-02b">
  <defs>
    <path d="M400,121.533c0-20.092-15.616-37.266-37.697-44.263c0.402-2.535,0.628-5.117,0.628-7.744
      c0-32.351-31.332-58.577-69.984-58.577c-19.546,0-37.212,6.713-49.911,17.527C232.199,11.589,209.944,0,184.232,0
      c-26.311,0-49.008,12.131-59.549,29.661c-3.772-0.418-7.623-0.646-11.543-0.646c-44.764,0-81.052,28.187-81.052,62.956
      c0,6.107,1.142,12.003,3.229,17.585C13.914,118.418,0,132.738,0,148.905c0,18.575,18.358,34.718,45.357,42.939
      c-7.651,8.127-12.163,18.051-12.163,28.776c0,27.515,29.6,49.817,66.114,49.817c9.918,0,19.317-1.657,27.76-4.605
      C133.521,285.41,158.351,300,188.021,300c34.573,0,62.6-19.805,62.6-44.234c0-1.057-0.07-2.103-0.173-3.14
      c12.123,5.738,26.391,9.053,41.667,9.053c44.002,0,79.669-27.451,79.669-61.313c0-12.388-4.789-23.91-12.999-33.553
      C382.707,160.594,400,142.677,400,121.533z" id="sample-02b-base-path" />
    <clipPath id="sample-02b-clip"><use xlink:href="#sample-02b-base-path" /></clipPath>
  </defs>
  <g clip-path="url(#sample-02b-clip)">
    <use xlink:href="#sample-02b-base-path" stroke-dasharray="20.7432861328125,10" id="sample-02b-bg" />
    <path d="M-20,300 Q10,10 200,150 Q390,290 420,0" id="sample-02b-bgline" />
    <foreignObject x="60" y="50" width="280" height="200">
      <div class="sample-close"><span class="plainmodal-close sample-close">Close</span></div>
      <p>This stupid design is showing to you that it's the perfect customizability. I really hope that you understand a purpose of this. Anyway, you can do anything you want to those.</p>
    </foreignObject>
  </g>
  <animateTransform xlink:href="#sample-02b-clip"
    attributeName="transform" type="translate" from="200,150" to="200,150" additive="sum"
    begin="indefinite" id="sample-02b-anim1" />
  <animateTransform xlink:href="#sample-02b-clip"
    attributeName="transform" type="scale" from="0.1,0.1" to="1,1" additive="sum"
    begin="indefinite" dur="1s" fill="freeze" id="sample-02b-anim2" />
  <animateTransform xlink:href="#sample-02b-clip"
    attributeName="transform" type="translate" from="-200,-150" to="-200,-150" additive="sum"
    begin="indefinite" id="sample-02b-anim3" />
  <animate xlink:href="#sample-02b-bgline"
    attributeName="d"
    values="M-40,300 Q10,10 200,150 Q390,290 440,0;
      M-40,300 Q10,10 200,150 Q390,290 440,0;
      M-40,300 Q-40,300 200,150 Q440,0 440,0;
      M-40,300 Q-80,-50 200,-60 Q480,-80 440,300"
    keyTimes="0;0.2;0.5;1"
    begin="indefinite" dur="3s" fill="freeze" id="sample-02b-anim4" />
  <animate xlink:href="#sample-02b-bg"
    attributeName="stroke-dashoffset" from="0" to="-30.7432861328125"
    begin="indefinite" dur="2s" repeatCount="indefinite" id="sample-02b-anim5" />
</svg>

<script>
$(function() {

  // webkit doesn't support smil (begin="anim1.begin" etc.)
  var scaleS = '0.1,0.1', scaleD = '1,1',
    anim1 = document.getElementById('sample-02b-anim1'),
    anim2 = document.getElementById('sample-02b-anim2'),
    anim3 = document.getElementById('sample-02b-anim3'),
    anim4 = document.getElementById('sample-02b-anim4'),
    anim5 = document.getElementById('sample-02b-anim5'),
    modal = $('#sample-02b').plainModal({duration: 1000, effect: {
      open: function(duration, complete) {
        var that = this;
        that.get(0).setCurrentTime(0);
        anim2.setAttribute('from', scaleS);
        anim2.setAttribute('to', scaleD);
        that.css('display', '');
        anim1.beginElement();
        anim2.beginElement();
        anim3.beginElement();
        anim4.beginElement();
        anim5.beginElementAt(0.8);
        setTimeout(function() { complete(); }, 3000);
      },
      close: function(duration, complete) {
        var that = this;
        anim2.setAttribute('from', scaleD);
        anim2.setAttribute('to', scaleS);
        anim1.beginElement();
        anim2.beginElement();
        anim3.beginElement();
        setTimeout(function() {
          anim1.endElement();
          anim2.endElement();
          anim3.endElement();
          anim4.endElement();
          anim5.endElement();
          that.css('display', 'none');
          complete();
        }, 1000);
      }
    }});
  $('#sample-02b-button').click(function() {
    modal.plainModal('open');
  });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_02.html" -->

<!-- include "sample_13.html" -->
<!-- ================ sample -->
<p>Give to the modal window your favorite style.</p>
<div class="cols2">
  <div class="col">
    <button id="sample-13a-button">Open Sample</button>
    <p>The style like <a href="http://getbootstrap.com/">Bootstrap</a>.</p>
  </div>
  <div class="col">
    <button id="sample-13b-button">Open Sample</button>
    <p>The style like <a href="http://foundation.zurb.com/">Foundation</a>.</p>
  </div>
</div>

<div id="sample-13a">
  <div class="modal-header">
    <div class="plainmodal-close">&#215;</div>
    <h4 class="modal-title">Modal title</h4>
  </div>
  <div class="modal-body">
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  </div>
  <div class="modal-footer">
    <button class="plainmodal-close">Close</button>
    <button class="plainmodal-close btn-primary">Save changes</button>
  </div>
</div>

<div id="sample-13b">
  <h4 class="modal-title">This is a modal.</h4>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  <div class="plainmodal-close">&#215;</div>
</div>

<script>
$(function() {

  var effect = {
        open: function(duration, complete) {
          this.css({
            display:          'block',
            opacity:          0,
            top:              -50 - this.outerHeight(),
            marginTop:        0
          })
          .animate({opacity: 1, top: 100}, duration, complete);
        },
        close: function(duration, complete) {
          this.animate({
            opacity:          0,
            top:              -50 - this.outerHeight()
          }, duration, function() {
            $(this).css({display: 'none'});
            complete();
          });
        }
      },
    modalA = $('#sample-13a').plainModal({effect: effect, duration: 500}),
    modalB = $('#sample-13b').plainModal({effect: effect, duration: 300});

  $('#sample-13a-button').click(function() { modalA.plainModal('open'); });
  $('#sample-13b-button').click(function() { modalB.plainModal('open'); });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_13.html" -->

<p>plainModal does:</p>

<ul>
<li>Showing specified element as the modal window, and hiding it.</li>
<li>Covering a page with an overlay.</li>
<li>Avoiding focusing outside elements of the modal window. (by pressing Tab key)</li>
<li>Avoiding scrolling a page window.</li>
<li>Hiding the modal window when Escape key is pressed.</li>
</ul>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// Show modal window. &lt;div id=&quot;modal&quot;&gt; is styled via your CSS.</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">);</span>
<span class="c1">// Hide modal window.</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">);</span>
</code></pre></div>
<h2 id="getting-started">Getting Started</h2>

<p>Load after jQuery.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jquery-1.11.0.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jquery.plainmodal.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>
<h2 id="methods">Methods</h2>

<h3 id="open"><code>open</code></h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">element</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">[,</span> <span class="nx">options</span><span class="p">])</span>
</code></pre></div>
<p>Show specified element as the modal window.<br>If <code>options</code> (see <a href="#options">Options</a>) is specified, element is initialized with specified <code>options</code> before it is shown. If element is not initialized yet, element is initialized even if <code>options</code> is not specified.<br>An element can be initialized by new <code>options</code> any number of times.</p>

<h3 id="close"><code>close</code></h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">element</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;close&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Hide the modal window.</p>

<h3 id="initialize">Initialize</h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">element</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">([</span><span class="nx">options</span><span class="p">])</span>
</code></pre></div>
<p>Initialize specified element as the modal window.<br>The <a href="#open"><code>open</code></a> method too, can initialize. This is used to initialize without showing the modal window at voluntary time.<br>You can specify <code>options</code> to every <a href="#open"><code>open</code></a> method. But, if <code>options</code> of an element isn&#39;t changed, re-initializing it isn&#39;t needed. Then, you specify <code>options</code> to only first <a href="#open"><code>open</code></a> method, or use this method for initializing it only once.<br>If you don&#39;t customize any options (using default all), this method isn&#39;t needed because <code>options</code> isn&#39;t specified to <a href="#open"><code>open</code></a> method, and element is initialized at only first time.</p>

<p>In this code, unneeded initializing is done again, again, and again.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#open-button&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Same initializing per every showing</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">duration</span><span class="o">:</span> <span class="mi">500</span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>In this code, initializing is done at once.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// Initialize without showing</span>
<span class="kd">var</span> <span class="nx">modal</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span><span class="nx">duration</span><span class="o">:</span> <span class="mi">500</span><span class="p">});</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#open-button&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Show without initializing</span>
  <span class="nx">modal</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>In this code, initializing is done at once.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#open-button&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Initializing is done at only first time</span>
  <span class="nx">modal</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="option"><code>option</code></h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">currentValue</span> <span class="o">=</span> <span class="nx">element</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="nx">optionName</span><span class="p">[,</span> <span class="nx">newValue</span><span class="p">])</span>
</code></pre></div>
<p>Return the current option value (see <a href="#options">Options</a>) as <code>optionName</code>. If <code>newValue</code> is specified, it is set before returning.</p>

<p><em>NOTE:</em> The current version of the plainModal can change option value of <a href="#overlay"><code>overlay</code></a>, <a href="#duration"><code>duration</code></a>, <a href="#effect"><code>effect</code></a>, <a href="#force"><code>force</code></a> and <a href="#fixoverlay"><code>fixOverlay</code></a> options. Use <a href="#initialize">Initialize</a> method to update option value of others.</p>

<h2 id="options">Options</h2>

<p>An <code>options</code> Object can be specified to <a href="#open"><code>open</code></a> method or <a href="#initialize">Initialize</a> method. This Object can have following properties.</p>

<h3 id="offset"><code>offset</code></h3>

<p>Type: Object or Function<br>Default: Calculated center position</p>

<p>An Object that has <code>left</code> and <code>top</code>, relative to the view area.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span><span class="nx">offset</span><span class="o">:</span> <span class="p">{</span><span class="nx">left</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">top</span><span class="o">:</span> <span class="mi">50</span><span class="p">}});</span>
</code></pre></div>
<!-- include "sample_03.html" -->
<!-- ================ sample -->
<p><button id="sample-03-button">Open Sample</button></p>

<div id="sample-03" class="sample-modal">
  <p>Click outside area of this window, or press Escape key to close this window.</p>
</div>

<script>
$(function() {

  $('#sample-03-button').click(function() {
    $('#sample-03').plainModal('open', {offset: {left: 100, top: 50}});
  });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_03.html" -->

<p>Or, a Function that returns above Object. This Function is called when the modal window is opened and the window is resized. Therefore the position be able to change according to the situation.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">button</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#open-button&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">modal</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">);</span>
    <span class="p">}),</span>
    <span class="nx">modal</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span>
      <span class="nx">offset</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Fit the position to a button.</span>
        <span class="kd">var</span> <span class="nx">btnOffset</span> <span class="o">=</span> <span class="nx">button</span><span class="p">.</span><span class="nx">offset</span><span class="p">(),</span> <span class="nx">win</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">);</span>
        <span class="k">return</span> <span class="p">{</span>
          <span class="nx">left</span><span class="o">:</span>   <span class="nx">btnOffset</span><span class="p">.</span><span class="nx">left</span> <span class="o">-</span> <span class="nx">win</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">()</span>
                    <span class="o">+</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;borderLeftWidth&#39;</span><span class="p">),</span> <span class="mi">10</span><span class="p">),</span>
          <span class="nx">top</span><span class="o">:</span>    <span class="nx">btnOffset</span><span class="p">.</span><span class="nx">top</span> <span class="o">-</span> <span class="nx">win</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">()</span>
                    <span class="o">+</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;borderTopWidth&#39;</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
        <span class="p">};</span>
      <span class="p">}</span>
    <span class="p">});</span>
</code></pre></div>
<!-- include "sample_04.html" -->
<!-- ================ sample -->
<p><button id="sample-04-button">Open Sample</button></p>

<div id="sample-04" class="sample-modal">
  <p>Click outside area of this window, or press Escape key to close this window.</p>
</div>

<script>
$(function() {

  var button = $('#sample-04-button').click(function() {
        modal.plainModal('open');
      }),
      modal = $('#sample-04').plainModal({
        offset: function() {
          // Fit the position to a button.
          var btnOffset = button.offset(), win = $(window);
          return {
            left:   btnOffset.left - win.scrollLeft()
                      + parseInt(this.css('borderLeftWidth'), 10),
            top:    btnOffset.top - win.scrollTop()
                      + parseInt(this.css('borderTopWidth'), 10)
          };
        }
      });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_04.html" -->

<p>If the Function returns nothing, the position isn&#39;t changed. In this case, that Function will change the position. For example, positioning by <code>margin</code> instead of <code>left</code>/<code>top</code>.<br>A <code>center</code> Function that moves the modal window to center of the window is given to the Function. For example, your Function does something that changes a size of the modal window, and it calls a <code>center</code> to move the modal window to center of window.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span>
  <span class="nx">offset</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">center</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// sizing by view port, step by 100px</span>
    <span class="kd">var</span> <span class="nx">jqHtml</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">),</span>
      <span class="nx">width</span> <span class="o">=</span> <span class="nx">jqHtml</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">&#39;clientWidth&#39;</span><span class="p">),</span>
      <span class="nx">height</span> <span class="o">=</span> <span class="nx">jqHtml</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">&#39;clientHeight&#39;</span><span class="p">);</span>
    <span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">;</span>
    <span class="nx">height</span> <span class="o">=</span> <span class="nx">height</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">;</span>
    <span class="nx">width</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">width</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">;</span>
    <span class="nx">height</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">height</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">width</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span> <span class="nx">width</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">height</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span> <span class="nx">height</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="nx">width</span><span class="p">).</span><span class="nx">height</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span>
    <span class="nx">center</span><span class="p">();</span> <span class="c1">// position to center.</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<!-- include "sample_10.html" -->
<!-- ================ sample -->
<p><button id="sample-10-button">Open Sample</button> Click this button, and resize a window.</p>

<div id="sample-10" class="sample-modal">
  <p>Click outside area of this window, or press Escape key to close this window.</p>
</div>

<script>
$(function() {

  var button = $('#sample-10-button').click(function() {
        modal.plainModal('open');
      }),
      modal = $('#sample-10').plainModal({
        offset: function(center) {
          // sizing by view port, step by 100px
          var jqHtml = $('html'),
            width = jqHtml.prop('clientWidth'),
            height = jqHtml.prop('clientHeight');
          width = width * 0.5;
          height = height * 0.5;
          width = Math.round(width / 100) * 100;
          height = Math.round(height / 100) * 100;
          if (width < 100) { width = 100; }
          if (height < 100) { height = 100; }
          this.width(width).height(height);
          center(); // position to center.
        }
      });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_10.html" -->

<h3 id="overlay"><code>overlay</code></h3>

<p>Type: Object<br>Default: <code>{fillColor: &#39;#888&#39;, opacity: 0.6, zIndex: 9000}</code></p>

<p>An Object that can have <code>fillColor</code> (fill-color), <code>opacity</code> and <code>zIndex</code> of the overlay.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span><span class="nx">overlay</span><span class="o">:</span> <span class="p">{</span><span class="nx">fillColor</span><span class="o">:</span> <span class="s1">&#39;#fff&#39;</span><span class="p">,</span> <span class="nx">opacity</span><span class="o">:</span> <span class="mf">0.5</span><span class="p">}});</span>
</code></pre></div>
<!-- include "sample_05.html" -->
<!-- ================ sample -->
<p><button id="sample-05-button">Open Sample</button></p>

<div id="sample-05" class="sample-modal sample-dark">
  <p>Click outside area of this window, or press Escape key to close this window.</p>
</div>

<script>
$(function() {

  $('#sample-05-button').click(function() {
    $('#sample-05').plainModal('open', {overlay: {fillColor: '#fff', opacity: 0.5}});
  });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_05.html" -->

<p><code>color</code> is an alias for <code>fillColor</code>.</p>

<p>If you want to style the overlay more, add style to <code>plainmodal-overlay</code> class.</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.plainmodal-overlay</span> <span class="p">{</span>
  <span class="k">background-image</span><span class="o">:</span> <span class="sx">url(&#39;bg.png&#39;)</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<!-- include "sample_06.html" -->
<!-- ================ sample -->
<p><button id="sample-06-button">Open Sample</button></p>

<div id="sample-06" class="sample-modal">
  <p>Click outside area of this window, or press Escape key to close this window.</p>
</div>

<script>
$(function() {

  // preload
  (new Image()).src = 'img/bg.png';

  var modal = $('#sample-06').plainModal({
        beforeopen: function() {
          $('.plainmodal-overlay').css('backgroundImage', 'url("img/bg.png")');
        },
        close: function() {
          $('.plainmodal-overlay').css('backgroundImage', 'none');
        }
      });
  $('#sample-06-button').click(function() {
    modal.plainModal('open');
  });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_06.html" -->

<h3 id="closeclass"><code>closeClass</code></h3>

<p>Type: String<br>Default: <code>&#39;plainmodal-close&#39;</code></p>

<p>If the element that has this class name is found, the <a href="#close"><code>close</code></a> method is attached to <code>click</code> event of it.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div&gt;</span>
<span class="nt">&lt;p&gt;</span>Lorem ipsum dolor ...<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;plainmodal-close&quot;</span><span class="nt">&gt;</span>Close<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<!-- include "sample_07.html" -->
<!-- ================ sample -->
<p><button id="sample-07-button">Open Sample</button></p>

<div id="sample-07" class="sample-modal">
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  <div class="sample-close"><span class="plainmodal-close sample-close">Close</span></div>
</div>

<script>
$(function() {

  $('#sample-07-button').click(function() {
    $('#sample-07').plainModal('open');
  });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_07.html" -->

<h3 id="duration"><code>duration</code></h3>

<p>Type: Number<br>Default: <code>200</code></p>

<p>A number determining how long (milliseconds) the effect animation for showing and hiding the modal window will run.</p>

<h3 id="effect"><code>effect</code></h3>

<p>Type: Object<br>Default: <code>{open: jQuery.fn.fadeIn, close: jQuery.fn.fadeOut}</code></p>

<p>An Object that can have <code>open</code> and <code>close</code> Functions for showing and hiding the modal window.<br>These Functions are called with <a href="#duration"><code>options.duration</code></a> Number (see above) and <code>complete</code> Function.<br>It&#39;s same to standard effect methods of jQuery (<code>slideDown</code>, <code>slideUp</code>, <code>animate</code>, etc.). Therefore, those methods can be specified.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span><span class="nx">effect</span><span class="o">:</span> <span class="p">{</span><span class="nx">open</span><span class="o">:</span> <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">slideDown</span><span class="p">,</span> <span class="nx">close</span><span class="o">:</span> <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">slideUp</span><span class="p">}});</span>
</code></pre></div>
<p>Custom animation:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span>
  <span class="nx">offset</span><span class="o">:</span> <span class="p">{</span><span class="nx">left</span><span class="o">:</span> <span class="mi">300</span><span class="p">,</span> <span class="nx">top</span><span class="o">:</span> <span class="mi">100</span><span class="p">},</span>
  <span class="nx">duration</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span>
  <span class="nx">effect</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">open</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">duration</span><span class="p">,</span> <span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span>
        <span class="nx">display</span><span class="o">:</span>          <span class="s1">&#39;block&#39;</span><span class="p">,</span>
        <span class="nx">marginTop</span><span class="o">:</span>        <span class="o">-</span><span class="mi">100</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">()</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="nx">animate</span><span class="p">({</span><span class="nx">marginTop</span><span class="o">:</span> <span class="mi">0</span><span class="p">},</span> <span class="nx">duration</span><span class="p">,</span> <span class="nx">complete</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">close</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">duration</span><span class="p">,</span> <span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">({</span>
        <span class="nx">marginTop</span><span class="o">:</span>        <span class="o">-</span><span class="mi">100</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">()</span>
      <span class="p">},</span> <span class="nx">duration</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span> <span class="s1">&#39;none&#39;</span><span class="p">});</span>
        <span class="nx">complete</span><span class="p">();</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<!-- include "sample_08.html" -->
<!-- ================ sample -->
<p><button id="sample-08-button">Open Sample</button></p>

<div id="sample-08" class="sample-modal">
  <p>Click outside area of this window, or press Escape key to close this window.</p>
</div>

<script>
$(function() {

  $('#sample-08-button').click(function() {
    $('#sample-08').plainModal('open', {
      offset: {left: 300, top: 100},
      duration: 500,
      effect: {
        open: function(duration, complete) {
          this.css({
            display:          'block',
            marginTop:        -100 - this.outerHeight()
          })
          .animate({marginTop: 0}, duration, complete);
        },
        close: function(duration, complete) {
          this.animate({
            marginTop:        -100 - this.outerHeight()
          }, duration, function() {
            $(this).css({display: 'none'});
            complete();
          });
        }
      }
    });
  });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_08.html" -->

<p>These Functions can ignore <code>duration</code>, but it must call <code>complete</code>, when the effect was finished.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span>
  <span class="nx">effect</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">open</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">duration</span><span class="p">,</span> <span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span>
        <span class="nx">display</span><span class="o">:</span>          <span class="s1">&#39;block&#39;</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span>            <span class="s1">&#39;#fff&#39;</span><span class="p">,</span>
        <span class="nx">backgroundColor</span><span class="o">:</span>  <span class="s1">&#39;#f1e470&#39;</span>
      <span class="p">});</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">that</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">backgroundColor</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">});</span>
        <span class="nx">complete</span><span class="p">();</span>
      <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">close</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">duration</span><span class="p">,</span> <span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span>
        <span class="nx">color</span><span class="o">:</span>            <span class="s1">&#39;#fff&#39;</span><span class="p">,</span>
        <span class="nx">backgroundColor</span><span class="o">:</span>  <span class="s1">&#39;#f1e470&#39;</span>
      <span class="p">});</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">that</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span> <span class="s1">&#39;none&#39;</span><span class="p">});</span>
        <span class="nx">complete</span><span class="p">();</span>
      <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<!-- include "sample_09.html" -->
<!-- ================ sample -->
<p><button id="sample-09-button">Open Sample</button></p>

<div id="sample-09" class="sample-modal sample-dark">
  <p>Click outside area of this window, or press Escape key to close this window.</p>
</div>

<script>
$(function() {

  $('#sample-09-button').click(function() {
    $('#sample-09').plainModal('open', {
      effect: {
        open: function(duration, complete) {
          var that = this.css({
            display:          'block',
            color:            '#fff',
            backgroundColor:  '#f1e470'
          });
          setTimeout(function() {
            that.css({color: '', backgroundColor: ''});
            complete();
          }, 500);
        },
        close: function(duration, complete) {
          var that = this.css({
            color:            '#fff',
            backgroundColor:  '#f1e470'
          });
          setTimeout(function() {
            that.css({display: 'none'});
            complete();
          }, 500);
        }
      }
    });
  });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_09.html" -->

<h3 id="zindex"><code>zIndex</code></h3>

<p>Type: Number<br>Default: <code>options.overlay.zIndex + 1</code></p>

<p>A <code>z-index</code> CSS property of the modal window. This number have to be bigger than <code>zIndex</code> of <a href="#overlay"><code>options.overlay</code></a>.</p>

<h3 id="force"><code>force</code></h3>

<p>Type: Boolean<br>Default: <code>false</code></p>

<p>The only one modal window can open in the one window. Therefore the <a href="#open"><code>open</code></a> method is ignored when another modal window is already opened.<br>If the <a href="#open"><code>open</code></a> method of the modal window that is set <code>true</code> to <code>force</code> is called when another modal window is already opened, another modal window is closed immediately, and the target modal window is opened.<br>For example, a parent modal window is opened, and then a child modal window is opened. Now, a child modal window is active. When a child modal window is closed, a parent modal window is active again.</p>

<!-- include "sample_11.html" -->
<!-- ================ sample -->
<p><button id="sample-11a-button">Open Sample</button></p>

<div id="sample-11a" class="sample-modal">
  <p>I am a parent modal window like e.g. the dialog box.</p>
  <p><input type="text" value="Lorem ipsum dolor sit amet, consectetur"></p>
  <p><button id="sample-11b-button">Open Child</button></p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  <div class="sample-close"><span class="plainmodal-close sample-close">Close</span></div>
</div>

<div id="sample-11b" class="sample-modal">
  <p>I am a child modal window like e.g. the <code>alert</code> message.</p>
  <div class="sample-close"><button class="plainmodal-close">OK</button></div>
</div>

<script>
$(function() {

  var parent = $('#sample-11a').plainModal()
      .on('plainmodalclose', function(e) {
        if (e.from && e.from.jquery && e.from.get(0) === child.get(0)) {
          // child is opened
          child.one('plainmodalclose', function() { // return to parent
            setTimeout(function() { parent.plainModal('open'); }, 0);
          });
        }
      }),
    child = $('#sample-11b').plainModal({force: true});

  $('#sample-11a-button').click(function() { parent.plainModal('open'); });
  $('#sample-11b-button').click(function() { child.plainModal('open'); });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_11.html" -->

<!-- include "sample_12.html" -->
<!-- ================ sample -->
<p>If you want to let a parent modal window stay while a child modal window is shown, use <a href="#effect"><code>options.effect</code></a>.</p>
<p><button id="sample-12a-button">Open Sample</button></p>

<div id="sample-12a" class="sample-modal">
  <p>I am a parent modal window like e.g. the dialog box.</p>
  <p><input type="text" value="Lorem ipsum dolor sit amet, consectetur"></p>
  <p><button id="sample-12b-button">Open Child</button></p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
  <div class="sample-close"><span class="plainmodal-close sample-close">Close</span></div>
</div>

<div id="sample-12b" class="sample-modal">
  <p>I am a child modal window like e.g. the <code>alert</code> message.</p>
  <div class="sample-close"><button class="plainmodal-close">OK</button></div>
</div>

<script>
$(function() {

  var overlay, parentOverlay, parentEffectSave, childEffectSave,
    parent = $('#sample-12a').plainModal()
      .on('plainmodalbeforeclose', function(e) {
        if (e.from && e.from.jquery && e.from.get(0) === child.get(0)) {
          // child is opened
          parentEffectSave = parent.plainModal('option', 'effect');
          parent.plainModal('option', 'effect',
            {open: avoidEffect, close: avoidEffect});
          parent.plainModal('option', 'fixOverlay', true);

          childEffectSave = child.plainModal('option', 'effect');
          child.plainModal('option', 'effect',
            {open: childOpen, close: childClose});
          child.plainModal('option', 'fixOverlay', true);

          child.one('plainmodalclose', function() { // return to parent
            var parentDurationSave = parent.plainModal('option', 'duration');
            parent.plainModal('option', 'duration', 1);
            parent.one('plainmodalopen', function() { // Restore
              parent.plainModal('option', 'effect', parentEffectSave);
              parent.plainModal('option', 'fixOverlay', false);
              parent.plainModal('option', 'duration', parentDurationSave);
              child.plainModal('option', 'effect', childEffectSave);
              child.plainModal('option', 'fixOverlay', false);
            })
            .plainModal('open');
          });
        }
      }),
    child = $('#sample-12b').plainModal({force: true});

  function avoidEffect(duration, complete) { setTimeout(complete, 0); }

  function childOpen(duration, complete) {
    overlay = overlay || $('.plainmodal-overlay');
    (parentOverlay = parentOverlay || overlay.clone(true)
      .css({
        backgroundColor: parent.plainModal('option', 'overlay').fillColor,
        zIndex: parent.plainModal('option', 'zIndex')
      })
      .insertAfter(parent))
    .css('display', 'none')
    .fadeTo(duration, parent.plainModal('option', 'overlay').opacity);
    overlay.fadeOut(duration);
    childEffectSave.open.call(child, duration, complete);
  }

  function childClose(duration, complete) {
    overlay.fadeTo(duration, parent.plainModal('option', 'overlay').opacity);
    parentOverlay.fadeOut(duration);
    childEffectSave.close.call(child, duration, complete);
  }

  $('#sample-12a-button').click(function() { parent.plainModal('open'); });
  $('#sample-12b-button').click(function() { child.plainModal('open'); });

});
</script>
<!-- ================ /sample -->
<!-- /include "sample_12.html" -->

<h3 id="fixoverlay"><code>fixOverlay</code></h3>

<p>Type: Boolean<br>Default: <code>false</code></p>

<p>If <code>true</code> is specified, the effects for showing and hiding the overlay are avoided.<br>For example, this is used to close a modal window and open another modal window, without a screen flickering. Note that the overlay stays when the modal window is closed before this option is reset to <code>false</code>.</p>

<h3 id="open,-close,-beforeopen,-beforeclose"><code>open</code>, <code>close</code>, <code>beforeopen</code>, <code>beforeclose</code></h3>

<p>Type: Function<br>Default: <code>undefined</code></p>

<p>The <a href="#plainmodalopen"><code>plainmodalopen</code></a>, <a href="#plainmodalclose"><code>plainmodalclose</code></a>, <a href="#plainmodalbeforeopen"><code>plainmodalbeforeopen</code></a> and <a href="#plainmodalbeforeclose"><code>plainmodalbeforeclose</code></a> event handlers. This is convenient way to do <code>on(type, handler)</code> method. (see <a href="#events">Events</a>)</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span><span class="nx">open</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span> <span class="p">}</span> <span class="p">});</span>
</code></pre></div>
<p><em>NOTE:</em> If this option is specified in the <a href="#open"><code>open</code></a> method, declared Function or the variable the Function is assigned should be specified (Don&#39;t specify the function expression). Because the <a href="#open"><code>open</code></a> method may be called again, and the <em>function expression</em> generates the new Function every time.<br>The <em>&quot;function statement&quot;</em> and the <em>&quot;function operator&quot;</em> are different.<br>See <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions#Defining_functions">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions#Defining_functions</a><br>For example: this code is OK:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">handler</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span> <span class="p">}</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#open-button&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">open</span><span class="o">:</span> <span class="nx">handler</span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p>This code registers event handler repeatedly when the <a href="#open"><code>open</code></a> method is called:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#open-button&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">open</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span> <span class="p">}</span> <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<h2 id="events">Events</h2>

<h3 id="plainmodalopen"><code>plainmodalopen</code></h3>

<p>Triggered when the modal window is opened. (after the <code>open</code> of <a href="#effect"><code>options.effect</code></a> took <a href="#duration"><code>options.duration</code></a> to complete.)<br>An event handler can be attached when initializing via <a href="#open-close-beforeopen-beforeclose"><code>options.open</code></a> as well.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;plainmodalopen&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;textarea&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="plainmodalclose"><code>plainmodalclose</code></h3>

<p>Triggered when the modal window is closeed. (after the <code>close</code> of <a href="#effect"><code>options.effect</code></a> took <a href="#duration"><code>options.duration</code></a> to complete.)<br>An event handler can be attached when initializing via <a href="#open-close-beforeopen-beforeclose"><code>options.close</code></a> as well.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;plainmodalclose&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#screen&#39;</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
<p>In some cases, the Event object that is passed to the event handler has the <code>from</code> property. (see <a href="#plainmodalbeforeclose">plainmodalbeforeclose</a> event)</p>

<h3 id="plainmodalbeforeopen"><code>plainmodalbeforeopen</code></h3>

<p>Triggered before the modal window is opened.<br>An event handler can be attached when initializing via <a href="#open-close-beforeopen-beforeclose"><code>options.beforeopen</code></a> as well.<br>This event is cancelable by calling <code>event.preventDefault()</code> in an event handler.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;plainmodalbeforeopen&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">dataList</span><span class="p">.</span><span class="nx">ready</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span> <span class="c1">// Don&#39;t open yet.</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="plainmodalbeforeclose"><code>plainmodalbeforeclose</code></h3>

<p>Triggered before the modal window is closeed.<br>An event handler can be attached when initializing via <a href="#open-close-beforeopen-beforeclose"><code>options.beforeclose</code></a> as well.<br>This event is cancelable by calling <code>event.preventDefault()</code> in an event handler.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;plainmodalbeforeclose&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">elmUserName</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;&quot;User Name&quot; is required.&#39;</span><span class="p">);</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span> <span class="c1">// Stay opening.</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>When the event is fired by another event, the Event object that is passed to the event handler has the <code>from</code> property that is the Event object of another event. For example, when the modal window is closed by clicking the button that is specified <a href="#closeclass"><code>options.closeClass</code></a>, <code>from</code> property of Event object that is passed to <code>plainmodalbeforeclose</code> and <a href="#plainmodalclose"><code>plainmodalclose</code></a> event handler is the Event object of that <code>click</code> event.<br>Or, when the modal window is closed by opening another modal window that <code>true</code> is specified to <a href="#force"><code>options.force</code></a>, <code>from</code> property of Event object that is passed to <code>plainmodalbeforeclose</code> and <a href="#plainmodalclose"><code>plainmodalclose</code></a> event handler is the another modal window.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span>
  <span class="nx">modal1</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#modal1&#39;</span><span class="p">).</span><span class="nx">plainModal</span><span class="p">({</span><span class="nx">duration</span><span class="o">:</span> <span class="mi">500</span><span class="p">})</span>

  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;plainmodalbeforeclose&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">from</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">from</span><span class="p">,</span> <span class="nx">orgDuration</span><span class="p">,</span> <span class="nx">offset</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">from</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">from</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;keydown&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// If the user pushed the Escape key, (s)he is in a hurry.</span>
      <span class="nx">orgDuration</span> <span class="o">=</span> <span class="nx">modal1</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">);</span>
      <span class="nx">modal1</span><span class="p">.</span><span class="nx">one</span><span class="p">(</span><span class="s1">&#39;plainmodalclose&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">modal1</span><span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="nx">orgDuration</span><span class="p">);</span> <span class="c1">// Restore</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="nx">plainModal</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// Set to fast closing</span>

    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">from</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;click&#39;</span> <span class="o">&amp;&amp;</span>
        <span class="nx">from</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">className</span> <span class="o">===</span> <span class="s1">&#39;plainmodal-overlay&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// If the user clicked the overlay that is too short</span>
      <span class="c1">// distance from this small modal, (s)he might have mistaken.</span>
      <span class="c1">// And ignore clicking.</span>
      <span class="nx">offset</span> <span class="o">=</span> <span class="nx">modal1</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">from</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">&gt;=</span> <span class="nx">offset</span><span class="p">.</span><span class="nx">left</span> <span class="o">-</span> <span class="mi">20</span> <span class="o">&amp;&amp;</span>
          <span class="nx">from</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">&lt;=</span> <span class="nx">offset</span><span class="p">.</span><span class="nx">left</span> <span class="o">+</span> <span class="nx">modal1</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">()</span> <span class="o">+</span> <span class="mi">20</span> <span class="o">&amp;&amp;</span>
          <span class="nx">from</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">&gt;=</span> <span class="nx">offset</span><span class="p">.</span><span class="nx">top</span> <span class="o">-</span><span class="mi">20</span> <span class="o">&amp;&amp;</span>
          <span class="nx">from</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">&lt;=</span> <span class="nx">offset</span><span class="p">.</span><span class="nx">top</span> <span class="o">+</span> <span class="nx">modal1</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">()</span> <span class="o">+</span> <span class="mi">20</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span> <span class="c1">// Stay opening.</span>
      <span class="p">}</span>

    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">from</span><span class="p">.</span><span class="nx">jquery</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// This is jQuery object. i.e. another modal.</span>
      <span class="c1">// The another modal takes over this message.</span>
      <span class="nx">from</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.warning-message&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">modal1</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.warning-message&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
    <span class="p">}</span>
  <span class="p">});</span>
</code></pre></div>
<h2 id="note">Note</h2>

<ul>
<li>As everyone knows, IE8- has many problems. CSS <code>position:fixed</code> in HTML without <code>&lt;!DOCTYPE&gt;</code> is ignored.<br>If your web site supports IE8- and it use <code>position:fixed</code>, HTML must include <code>&lt;!DOCTYPE&gt;</code> even if plainModal is not used. And plainModal uses <code>position:fixed</code>.</li>
<li>The <a href="#initialize">Initialize</a> method set <code>display:none</code> to specified element. You can hide the element before Initialize method, by your stylesheet.</li>
</ul>

<h2 id="see-also">See Also</h2>

<p><a href="http://anseki.github.io/jquery-plainoverlay">plainOverlay</a> may be better, if you want the overlay that covers a page, elements or iframe-windows.</p>

  </main>
  <footer>
    <p class="copyright">plainModal maintained by <a href="https://github.com/anseki">anseki</a></p>
  </footer>

</body>
</html>
