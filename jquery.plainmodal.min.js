!function(e,t){"use strict";function o(t,o){var n=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},fixOverlay:!1,closeClass:z+"-close"},o);return n.overlay.fillColor=n.overlay.fillColor||n.overlay.color||"#888",n.zIndex=n.zIndex||n.overlay.zIndex+1,d||(d=e(window),v=e('<div class="'+z+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"150%",display:"none"}).appendTo(p=e("body")).click(r).on("touchmove",function(){return!1}),e(document).focusin(function(t){O&&!O.has(t.target).length&&(h?h.focus():e(document.activeElement).blur())}).keydown(function(e){return O&&27===e.keyCode?r(e):void 0})),t.each(function(){var t=e(this),o={position:"fixed",display:"none",zIndex:n.zIndex};n.offset?"function"==typeof n.offset?n.offset=function(e){return function(){var t=this;return e.call(t,function(){f.call(t)})}}(n.offset):(o.left=n.offset.left,o.top=n.offset.top,o.marginLeft=o.marginTop=""):n.offset=f,n.closeClass&&t.find("."+n.closeClass).off("click",r).click(r),e.each([["open",C],["close",I],["beforeopen",E],["beforeclose",L]],function(e,o){var r=o[0],i=o[1];"function"==typeof n[r]&&t.off(i,n[r]).on(i,n[r])}),t.css(o).data(T,n).appendTo(p).on("touchmove",function(){return!1})})}function n(n,f){var c,z,I,L,k,D=n.length?n.eq(0):t;return a||!D?n:((f||!(c=D.data(T)))&&(c=o(D,f).data(T)),!s&&c.force&&u&&u.get(0)!==D.get(0)&&(u.stop(!0,!0),v.stop(!0,!!c.fixOverlay)),!s&&c.force&&O&&O.get(0)!==D.get(0)?(s=D,r(O)):null===O&&(a=!0,k=e.Event(E,{cancelable:!0}),D.trigger(k),k.isDefaultPrevented()||(z=p.get(0).style,m=z.overflow,I=p.prop("clientWidth"),L=p.prop("clientHeight"),p.css("overflow","hidden"),I-=p.prop("clientWidth"),L-=p.prop("clientHeight"),y=z.marginRight,x=z.marginBottom,0>I&&p.css("marginRight","+="+-I),0>L&&p.css("marginBottom","+="+-L),g=e(document.activeElement).blur(),h=null,w=d.scrollLeft(),b=d.scrollTop(),d.scroll(l),i(D,c),c.effect.open.call(u=D,c.duration||1,function(){u=t,D.find("a,input,select,textarea,button,object,area,img,map").each(function(){var t=e(this);return t.focus().get(0)===document.activeElement?(h=t,!1):void 0}),O=D,D.trigger(C)}),c.fixOverlay||v.css({backgroundColor:c.overlay.fillColor,zIndex:c.overlay.zIndex}).fadeTo(c.duration,c.overlay.opacity),O=0),a=!1),n)}function r(o){var r,i,f,c,h=o instanceof e.Event;return!a&&O&&(a=!0,r=h?O:function(){var e=o.index(O);return e>-1?o.eq(e):t}(),r&&(f=e.Event(L,{cancelable:!0}),h?f.from=o:s&&(f.from=s),r.trigger(f),f.isDefaultPrevented()?s=t:(i=r.data(T),c=s?1:i.duration||1,i.effect.close.call(u=r,c,function(){var i;u=t,p.css({overflow:m,marginRight:y,marginBottom:x}),g&&g.length&&g.focus(),d.off("scroll",l).scrollLeft(w).scrollTop(b),O=null,i=e.Event(I),h?i.from=o:s&&(i.from=s),r.trigger(i),s&&window.setTimeout(function(){n(s),s=t},0)}),s||i.fixOverlay||v.fadeOut(c),O=0)),a=!1),h?(o.preventDefault(),!1):o}function i(e,t){var o;t=t||e.data(T),"function"==typeof t.offset&&(o=t.offset.call(e))&&e.css({left:o.left,top:o.top,marginLeft:"",marginTop:""})}function f(){this.css({left:"50%",top:"50%",marginLeft:"-"+this.outerWidth()/2+"px",marginTop:"-"+this.outerHeight()/2+"px"})}function l(e){return d.scrollLeft(w).scrollTop(b),e.preventDefault(),!1}function c(e,n,r){var i,f=e.length?e.eq(0):t;if(f&&(i=f.data(T)||o(f).data(T),i.hasOwnProperty(n)))return null!=r&&(i[n]=r),i[n]}var a,s,u,d,p,v,g,h,m,y,x,w,b,T="plainModal",z=T.toLowerCase(),C=z+"open",I=z+"close",E=z+"beforeopen",L=z+"beforeclose",O=null;e(function(){e(window).resize(function(){O&&i(O)})}),e.fn[T]=function(e,t,i){return"open"===e?n(this,t):"close"===e?r(this):"option"===e?c(this,t,i):o(this,e)}}(jQuery);